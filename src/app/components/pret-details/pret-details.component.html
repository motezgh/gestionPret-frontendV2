<main>
    <div class="position-relative">
      <!-- shape Hero -->
      <section class="section section-lg bg-gradient-default section-shaped pb-250">
        <div class="shape shape-style-1 shape-default">
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
          <span></span>
        </div>
        <div class="container py-lg-md d-flex">
          <div class="col px-0">
            <div class="row">
              <div class="col-lg-6">
                <!-- <h1 class="display-3  text-white">A beautiful Design System
                  <span>completed with examples</span>
                </h1>
                <p class="lead  text-white">The design system comes with four pre-built pages to help you get started faster. You can change the text and images and you're good to go.</p>
                <div class="btn-wrapper">
                  <a href="https://demos.creative-tim.com/argon-design-system-angular/documentation/alerts?ref=adsa-landing-page" class="btn btn-info btn-icon mb-3 mb-sm-0">
                    <span class="btn-inner--icon"><i class="fa fa-code"></i></span>
                    <span class="btn-inner--text">Components</span>
                  </a>
                  <a href="https://www.creative-tim.com/product/argon-design-system-angular?ref=adsa-landing-page" class="btn btn-white btn-icon mb-3 mb-sm-0">
                    <span class="btn-inner--icon"><i class="ni ni-cloud-download-95"></i></span>
                    <span class="btn-inner--text">Download Angular</span>
                  </a>
                </div> -->
              </div>
            </div>
          </div>
        </div>
        <!-- SVG separator -->
        <div class="separator separator-bottom separator-skew">
          <svg x="0" y="0" viewBox="0 0 2560 100" preserveAspectRatio="none" version="1.1" xmlns="http://www.w3.org/2000/svg">
            <polygon class="fill-white" points="2560 0 2560 100 0 100"></polygon>
          </svg>
        </div>
      </section>
      <!-- 1st Hero Variation -->
    </div>
    <section class="section section-lg pt-lg-0 mt--200">
        <div class="container" >
            <div class="row justify-content-center" >
            <div class="col-lg-12" >
                <div class="row row-grid"  *ngIf="pret">
                <div class="col-lg-10" *ngIf="pret.etat=='ENCOURS'" >
                    <div class="card card-lift--hover shadow border-0"  >
                    <div class="card-body py-5" >
                        <div class="text-center">
                            

                            <strong class="text-primary text-uppercase mb-4">{{pret.etat}}</strong>
                            
                        </div>
                        <div class="d-flex align-items-center">
                            <div class="mb-4 mr-4" >
                                <img src="{{this.host+'/photoUser/'+user.id}}" height="50px" width="50px" class="rounded-circle ">
                                
                            </div>
                            <h6 class="text-black">{{user.prenom|titlecase}} {{user.nom|titlecase}}</h6>
                            
                        </div>
                        
                        <div class="row">

                            <div class="col-12 col-sm-6">
                                <span class="badge badge-pill badge-warning mb-2">{{user.fonction}}</span>
                            <br>
                            <p class="description mt-3"><i class="fa fa-envelope"></i>
                                Email: 
                                <a class="text-info " href="mailto:{{user.email}}">{{user.email}}</a>
                            </p>
                            
                            <p class="description mt-3">
                                <i class="fa fa-money"></i>
                                Salaire: {{user.salaire}} DT
                            </p>

                            <p class="description mt-3">
                                <i class="fa fa-dollar"></i>
                                Capacité de remboursement: {{user.capRemb}} DT par Mois
                            </p>

                            <p class="description mt-3">
                                <i class="fa fa-book"></i>
                                Type de Contrat: {{user.contratType}}
                            </p>

                            <p class="description mt-3">
                                <i class="fa fa-calendar"></i>
                                Debut de Contrat: {{user.debutContrat}}
                            </p>

                            <p class="description mt-3">
                                <i class="fa fa-calendar"></i>
                                Fin de Contrat: {{user.finContrat}}
                            </p>
    
                            <a  routerLink="/employesDetails/{{user.id}}" class="btn btn-default btn-sm text-white mt-4">profil</a>
                            </div>
                            
                            <div class="col-12 col-sm-6">
                                <hr>
                                <div class="text-black mt-4">
                                    <p><i class="fa fa-tag pr-1"></i>Type: {{typePret.nameType}}</p>
                                    <p><i class="fa fa-money pr-1"></i>Montant: {{pret.montant}} DT</p>
                                    <p><i class="fa fa-calendar pr-1"></i>Durée: {{pret.dureeRemboursement}} Mois</p>
                                    <p><i class="fa fa-dollar "></i>Echeance: {{pret.echeance}} DT par Mois</p>
                                </div>
        
                                <div>
                                
                                <span class="badge badge-pill badge-primary mt-4">crer le {{pret.createdAt}}</span>
                                <!-- <span class="badge badge-pill badge-warning">creative</span> -->
                                </div>
                                <br>
                                <a  (click)=" openEdit(content,pret,user,typePret)" class="btn btn-default btn-sm text-white mt-4">Modifier</a>
                            </div>

                        </div>

                        <hr>
                        <div class="row">

                            <div class="col-12 col-sm-5 col-lg-4">
                                <a (click)="accepterPret(pret.id)" (click)="envoyerEmail(pret.id)"
                                class="btn btn-success btn-round btn-block text-white  mt-4">Accepter</a>
                            </div>
                            <div class="col-0 col-sm-2 col-lg-4"></div>
                            <div class="col-12 col-sm-5 col-lg-4 ">
                                <a (click)="refuserPret(pret.id)" (click)="envoyerEmail(pret.id)"
                                class="btn btn-danger   btn-block  text-white  float-right mt-4 ">Refuser</a>
                            </div>

                          </div>
                    
                    </div>
                    </div>
                </div>
                <div class="col-lg-10" *ngIf="pret.etat=='ACCEPTER'">
                    <div class="card card-lift--hover shadow border-0">
                        <div class="card-body py-5" >
                            <div class="text-center">
                                
    
                                <strong class="text-success text-uppercase mb-4">{{pret.etat}}</strong>
                                
                            </div>
                            <div class="d-flex align-items-center">
                                <div class="mb-4 mr-4" >
                                    <img src="{{this.host+'/photoUser/'+user.id}}" height="50px" width="50px" class="rounded-circle ">
                                    
                                </div>
                                <h6 class="text-black">{{user.prenom|titlecase}} {{user.nom|titlecase}}</h6>
                                
                            </div>
                            <div class="row">

                                <div class="col-12 col-sm-6">
                                    <span class="badge badge-pill badge-warning mb-2">{{user.fonction}}</span>
                                <br>
                                <p class="description mt-3"><i class="fa fa-envelope"></i>
                                    Email: 
                                    <a class="text-info " href="mailto:{{user.email}}">{{user.email}}</a>
                                </p>
                                
                                <p class="description mt-3">
                                    <i class="fa fa-money"></i>
                                    Salaire: {{user.salaire}} DT
                                </p>

                                <p class="description mt-3">
                                    <i class="fa fa-dollar"></i>
                                    Capacité de remboursement: {{user.capRemb}} DT par Mois
                                </p>

                                <p class="description mt-3">
                                    <i class="fa fa-book"></i>
                                    Type de Contrat: {{user.contratType}}
                                </p>

                                <p class="description mt-3">
                                    <i class="fa fa-calendar"></i>
                                    Debut de Contrat: {{user.debutContrat}}
                                </p>

                                <p class="description mt-3">
                                    <i class="fa fa-calendar"></i>
                                    Fin de Contrat: {{user.finContrat}}
                                </p>
        
                                <a  routerLink="/employesDetails/{{user.id}}" class="btn btn-default btn-sm text-white mt-4">profil</a>

                                </div>
                                
                                <div class="col-12 col-sm-6">
                                    <hr>
                                    <div class="text-black mt-4">
                                        <p><i class="fa fa-tag pr-1"></i>Type: {{typePret.nameType}}</p>
                                        <p><i class="fa fa-money pr-1"></i>Montant: {{pret.montant}} DT</p>
                                        <p><i class="fa fa-calendar pr-1"></i>Durée: {{pret.dureeRemboursement}} Mois</p>
                                        <p><i class="fa fa-dollar "></i>Echeance: {{pret.echeance}} DT par Mois</p>                                    </div>
            
                                    <div>
                                    
                                    <span class="badge badge-pill badge-success mt-4">crer le {{pret.createdAt}}</span>
                                    <br>
                                    <span class="badge badge-pill badge-success mt-4">debut de remboursement {{pret.debutRemb}}</span>
                                    <br>
                                    <span class="badge badge-pill badge-success mt-4">fin de remboursement {{pret.finRemb}}</span>
                                    <!-- <span class="badge badge-pill badge-warning">creative</span> -->
                                    </div>
                                </div>

                            </div>
                            <hr>
                            
                            <a *ngIf="date>dateFinRemb && !pret.archiver" (click)="archiverPret(pret.id)" class="btn btn-default text-white mt-4">Archiver</a>
                            <div class="alert alert-success" *ngIf="pret.archiver">
                                Pret Archiver!
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-10" *ngIf="pret.etat=='REFUSER'">
                    <div class="card card-lift--hover shadow border-0">
                        <div class="card-body py-5" >
                            <div class="text-center">
                                
    
                                <strong class="text-warning text-uppercase mb-4">{{pret.etat}}</strong>
                                
                            </div>
                            <div class="d-flex align-items-center">
                                <div class="mb-4 mr-4" >
                                    <img src="{{this.host+'/photoUser/'+user.id}}" height="50px" width="50px" class="rounded-circle ">
                                    
                                </div>
                                <h6 class="text-black">{{user.prenom|titlecase}} {{user.nom|titlecase}}</h6>
                                
                            </div>

                            <div class="row">

                                <div class="col-12 col-sm-6">
                                    <span class="badge badge-pill badge-warning mb-2">{{user.fonction}}</span>
                                <br>
                                <p class="description mt-3"><i class="fa fa-envelope"></i>
                                    Email: 
                                    <a class="text-info " href="mailto:{{user.email}}">{{user.email}}</a>
                                </p>
                                
                                <p class="description mt-3">
                                    <i class="fa fa-money"></i>
                                    Salaire: {{user.salaire}} DT
                                </p>

                                <p class="description mt-3">
                                    <i class="fa fa-dollar"></i>
                                    Capacité de remboursement: {{user.capRemb}} DT par Mois
                                </p>

                                <p class="description mt-3">
                                    <i class="fa fa-book"></i>
                                    Type de Contrat: {{user.contratType}}
                                </p>

                                <p class="description mt-3">
                                    <i class="fa fa-calendar"></i>
                                    Debut de Contrat: {{user.debutContrat}}
                                </p>

                                <p class="description mt-3">
                                    <i class="fa fa-calendar"></i>
                                    Fin de Contrat: {{user.finContrat}}
                                </p>
        
                                <a  routerLink="/employesDetails/{{user.id}}" class="btn btn-default btn-sm text-white mt-4">profil</a>

                                </div>
                                
                                <div class="col-12 col-sm-6">
                                    <hr>
                                    <div class="text-black mt-4">
                                        <p><i class="fa fa-tag "></i>Type: {{typePret.nameType}}</p>
                                        <p><i class="fa fa-money "></i>Montant: {{pret.montant}} DT</p>
                                        <p><i class="fa fa-calendar "></i>Durée: {{pret.dureeRemboursement}} Mois</p>
                                        <p><i class="fa fa-dollar "></i>Echeance: {{pret.echeance}} DT par Mois</p>                                    </div>
            
                                    <div>
                                    
                                    <span class="badge badge-pill badge-primary mt-4">crer le {{pret.createdAt}}</span>
                                    <!-- <span class="badge badge-pill badge-warning">creative</span> -->
                                    </div>
                                </div>

                            </div>

                                
                        </div>
                    </div>
                </div>
                </div>
            </div>
            </div>
        </div>

        <ng-template #content let-modal >
            <div class="modal-header">
              <h4 class="modal-title" id="modal-basic-title">Modifier le prêt</h4>
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form novalidate [formGroup]="editPretForm" (ngSubmit)="updatePret(pret.id)" >
                <div class="form-group">
                  <label for="exampleInputEmail1">montant*</label>
                  <input type="text" formControlName="montant" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                  [ngClass]="{ 'is-invalid':  f.montant.errors }">
                  <div *ngIf="f.montant.errors" class="invalid-feedback">
                      <div *ngIf="f.montant.errors.required">Ce champ est obligatoire*</div>
                  </div>
                  
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">duree*</label>
                  <input type="text" formControlName="duree" class="form-control" id="exampleInputPassword1"
                  [ngClass]="{ 'is-invalid':  f.duree.errors }">
                        <div *ngIf=" f.duree.errors" class="invalid-feedback">
                            <div *ngIf="f.duree.errors.required">Ce champ est obligatoire*</div>
                        </div>
                        
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">type de pret*</label>
                    <select class="form-control" id="exampleFormControlSelect5" formControlName="typePret"
                    [ngClass]="{ 'is-invalid':  f.typePret.errors }">
                          <option *ngFor="let typePret of typePretNames" [ngValue]="typePret">{{typePret}}</option>
                          
                        </select>
                        
                        <div *ngIf=" f.typePret.errors" class="invalid-feedback">
                            <div *ngIf="f.typePret.errors.required">Ce champ est obligatoire*</div>
                        </div>
                        
    
                  </div>
                
                <button type="submit" [disabled]="editPretForm.invalid" class="btn btn-primary">Enregistrer</button>
              </form>
            </div>
            <!-- <div class="modal-footer">
              <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click') && updatePret(pret.id)">Save</button>
            </div> -->
          </ng-template>

    </section>
</main>